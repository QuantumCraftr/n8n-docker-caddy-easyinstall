# ğŸš€ n8n-docker-caddy Community Edition

> **Installation n8n simplifiÃ©e avec Docker et Caddy - SSL automatique et configuration en 5 minutes !**

[![Docker](https://img.shields.io/badge/Docker-Ready-blue)](https://docker.com)
[![n8n](https://img.shields.io/badge/n8n-Latest-orange)](https://n8n.io)
[![SSL](https://img.shields.io/badge/SSL-Auto--Generated-green)](https://letsencrypt.org)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

## âœ¨ FonctionnalitÃ©s

ğŸ¯ **Installation guidÃ©e interactive**
- Configuration automatique en quelques questions
- GÃ©nÃ©ration de mots de passe sÃ©curisÃ©s
- Support multi-niveaux (Basique â†’ Pro)

ğŸ” **SÃ©curitÃ© intÃ©grÃ©e**
- SSL automatique avec Let's Encrypt
- Authentification activÃ©e par dÃ©faut
- Firewall configurÃ© automatiquement

ğŸš€ **Services inclus**
- **n8n**: Automation workflow
- **Flowise**: IA conversationnelle
- **Caddy**: Reverse proxy avec SSL
- **Grafana + Prometheus**: Monitoring (option)
- **Portainer**: Gestion Docker (option)
- **Watchtower**: Mise Ã  jour automatique (option)
- **Uptime Kuma**: Surveillance des services (option)

## ğŸ› ï¸ Installation rapide

### PrÃ©requis

- Serveur Linux (Ubuntu 20.04+, Debian 11+, CentOS 8+)
- Docker & Docker Compose installÃ©s
- Nom de domaine pointant vers votre serveur
- Ports 80 et 443 ouverts

### Installation en 1 commande

```bash
git clone https://github.com/QuantumCraftr/n8n-docker-caddy.git
cd n8n-docker-caddy
cd scripts
chmod +x setup.sh
./setup.sh
```

Le script vous guidera Ã  travers la configuration !

## ğŸ“‹ Types d'installation

### ğŸš€ Installation Basique
**Parfait pour dÃ©buter**
- n8n (workflow automation)
- Flowise (chatbots IA)
- Caddy (reverse proxy + SSL)

### ğŸ“Š Installation avec Monitoring
**Pour les utilisateurs avancÃ©s**
- Tout de l'installation basique
- Prometheus (collecte de mÃ©triques)
- Grafana (tableaux de bord)

### ğŸ”§ Installation Pro
**Pour la production**
- Tout de l'installation monitoring
- Portainer (interface Docker)
- Watchtower (mises Ã  jour auto)
- Uptime Kuma (surveillance)

## ğŸŒ Configuration DNS

Avant l'installation, configurez vos enregistrements DNS :

```
Type  | Nom            | Valeur
------|----------------|----------------
A     | automation     | VOTRE_IP_SERVEUR
A     | flowise        | VOTRE_IP_SERVEUR
A     | monitoring     | VOTRE_IP_SERVEUR
A     | portainer      | VOTRE_IP_SERVEUR
A     | uptime         | VOTRE_IP_SERVEUR
```

## ğŸ“– Guide d'utilisation

### DÃ©marrage des services

```bash
# DÃ©marrer tous les services
docker compose up -d

# Voir l'Ã©tat des services
docker compose ps

# Suivre les logs en temps rÃ©el
docker compose logs -f
```

### AccÃ¨s aux services

AprÃ¨s installation, vos services seront disponibles sur :

- **n8n**: https://automation.votre-domaine.com
- **Flowise**: https://flowise.votre-domaine.com
- **Grafana**: https://monitoring.votre-domaine.com
- **Portainer**: https://portainer.votre-domaine.com
- **Uptime Kuma**: https://uptime.votre-domaine.com

Les identifiants sont dans le fichier `credentials.txt` gÃ©nÃ©rÃ© lors de l'installation.

### Commandes utiles

```bash
# RedÃ©marrer un service spÃ©cifique
docker compose restart n8n

# Voir les logs d'un service
docker compose logs n8n

# Mettre Ã  jour les images
docker compose pull
docker compose up -d

# Sauvegarder les donnÃ©es
cd scripts && ./backup.sh

# ArrÃªter tous les services
docker compose down
```

## ğŸ”§ Configuration avancÃ©e

### Variables d'environnement (.env)

Le fichier `.env` contient toute la configuration :

```bash
# Domaine
DOMAIN_NAME=votre-domaine.com
SUBDOMAIN=automation

# SÃ©curitÃ©
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=votre-mot-de-passe

# Flowise
FLOWISE_USERNAME=admin
FLOWISE_PASSWORD=votre-mot-de-passe

# SSL
SSL_EMAIL=votre-email@exemple.com
```

### Personnaliser le Caddyfile

Le fichier `caddy_config/Caddyfile` gÃ¨re le reverse proxy :

```caddy
votre-domaine.com {
    reverse_proxy n8n:5678 {
        flush_interval -1
    }
}
```

## ğŸ“Š Monitoring et maintenance

### Surveillance des services

Avec l'installation Pro, vous avez accÃ¨s Ã  :

- **Grafana**: Tableaux de bord de performance
- **Prometheus**: Collecte des mÃ©triques
- **Uptime Kuma**: Alertes en cas de panne

### Sauvegardes automatiques

```bash
# Script de sauvegarde manuel
./backup.sh

# Programmer des sauvegardes automatiques
crontab -e
# Ajouter: 0 3 * * * /chemin/vers/backup.sh
```

### Mises Ã  jour

```bash
# Mise Ã  jour manuelle
cd scripts && ./update.sh

# Avec Watchtower (automatique)
# Les mises Ã  jour se font automatiquement le dimanche Ã  4h
```

## ğŸ”§ DÃ©pannage

### ProblÃ¨mes courants

**SSL ne fonctionne pas**
```bash
# VÃ©rifier les logs de Caddy
docker compose logs caddy

# VÃ©rifier que les DNS pointent bien vers votre serveur
nslookup votre-domaine.com
```

**Service ne dÃ©marre pas**
```bash
# Voir les erreurs
docker compose logs [nom-service]

# RedÃ©marrer le service
docker compose restart [nom-service]
```

**Espace disque plein**
```bash
# Nettoyer Docker
docker system prune -a

# Voir l'utilisation
docker system df
df -h
```

### Logs et diagnostics

```bash
# Logs complets
docker compose logs -f --tail=100

# Ã‰tat des conteneurs
docker compose ps

# Utilisation des ressources
docker stats --no-stream
```

## ğŸ¤ Support et communautÃ©

- **GitHub Issues**: Pour les bugs et demandes de fonctionnalitÃ©s
- **Discussions**: Pour les questions et aide
- **Wiki**: Documentation dÃ©taillÃ©e
- **Skool Community**: [Lien vers votre groupe]

## ğŸ“š Documentation

- [Guide d'installation dÃ©taillÃ©](docs/installation.md)
- [Configuration avancÃ©e](docs/advanced-config.md)
- [DÃ©pannage](docs/troubleshooting.md)
- [API et webhooks](docs/api.md)
- [Exemples de workflows](docs/examples/)

## ğŸ” SÃ©curitÃ©

### Bonnes pratiques

- âœ… Utilisez toujours HTTPS
- âœ… Mots de passe forts gÃ©nÃ©rÃ©s automatiquement
- âœ… Firewall configurÃ© par dÃ©faut
- âœ… Mises Ã  jour automatiques avec Watchtower
- âœ… Sauvegardes rÃ©guliÃ¨res

### Durcissement

Pour renforcer la sÃ©curitÃ© :

```bash
# DÃ©sactiver l'accÃ¨s root SSH
sudo nano /etc/ssh/sshd_config
# PermitRootLogin no
# PasswordAuthentication no

# Installer fail2ban
sudo apt install fail2ban
```

## ğŸ“ˆ Performance

### Optimisations recommandÃ©es

**Pour n8n:**
```bash
# Dans .env
N8N_EXECUTIONS_DATA_PRUNE=true
N8N_EXECUTIONS_DATA_MAX_AGE=168  # 7 jours
```

**Pour serveur:**
```bash
# Augmenter les limites si nÃ©cessaire
echo "fs.file-max = 65536" >> /etc/sysctl.conf
```

## ğŸ¯ Roadmap

- [ ] Support ARM64 (Raspberry Pi)
- [ ] Interface web d'administration
- [ ] Templates de workflows prÃªts Ã  l'emploi
- [ ] IntÃ©gration CI/CD
- [ ] Support Kubernetes

## ğŸ¤ Contribution

Les contributions sont les bienvenues !

1. Fork le projet
2. CrÃ©er une branche (`git checkout -b feature/amazing-feature`)
3. Commit (`git commit -m 'Add amazing feature'`)
4. Push (`git push origin feature/amazing-feature`)
5. Ouvrir une Pull Request

## ğŸ“„ Licence

Ce projet est sous licence MIT. Voir [LICENSE](LICENSE) pour plus de dÃ©tails.

## ğŸ™ Remerciements

- [n8n.io](https://n8n.io) pour l'outil d'automation
- [Caddy](https://caddyserver.com) pour le reverse proxy
- [Flowise](https://flowiseai.com) pour l'IA conversationnelle
- La communautÃ© pour les retours et contributions

---

**â­ Si ce projet vous aide, n'hÃ©sitez pas Ã  lui donner une Ã©toile !**

Made with â¤ï¸ for the n8n community